- pipeline: "Deploy"
  events:
    - type: "PUSH"  # Trigger pipeline saat ada push ke branch
      refs:
        - "refs/heads/main"
  actions:
    - action: "install supervisor"
      type: "BUILD"
      docker_image_name: "library/python"
      docker_image_tag: "3.12"
      execute_commands:
        - "apt-get update && apt-get install -y supervisor"
        - "pip install -r requirements.txt"
        - "supervisord -c /path/to/supervisord.conf"  # Menjalankan supervisor yang mengawasi run.py
      cached_dirs:
        - "/root/.cache/pip"
      shell: "BASH"
      execute_every_command: true
